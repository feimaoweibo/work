<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jQuery节点操作</title>
    <script src="../day14jQuery/day14jQuery/jquery-1.8.3.min.js"></script>
    <style>
        .item{
            margin-bottom: 100px;
        }
        .wrap{
            width: 800px;
            height: 300px;
            border: 1px salmon solid;
        }
        .item2{
            width: 80px;
            height: 80px;
            border-radius:50%;
            background: #000;
            float: left;
        }
    </style>
</head>
<body>
    <button>在元素内部的尾部插入元素</button>
    <button>在元素内部的前面插入元素</button>
    <button>在元素外部的后面插入元素</button>
    <button>在元素外部的前面插入元素</button>
    <button>删除节点</button>
    <button>清空元素</button>
    <button>克隆元素</button>
    <button>注意</button>
    <div class="wrap"></div>
    <script>
        // 1、jQuery 创建节点
            // 创建节点
            var jd = $('<div class="item">创建第一个节点</div>');
            // 插入节点
            $('body').before(jd);


        // 2、jQuery 节点操作实例
            var odiv=null; //odiv为全局变量
            // 背景色随机数函数
            function rand(m,n) {
                return Math.floor(Math.random()*(n-m+1))+m;//取在某两个值之间的随机整数公式
            };
            // 创建节点以及修改元素样式的函数
            function creatJd() {
                // 创建节点
                odiv =$('<div class="item2"></div>');
                // 操作创建节点的样式
                odiv.css('background','rgb('+rand(0,255)+','+rand(0,255)+','+rand(0,255)+')');

            };
        // 一、在元素内部的尾部插入元素 .append() 与 .appendTo() 方法
            // 绑定单击事件
            $('button').eq(0).click(function () {
                console.log('111');
                /*
                   方法一、直接创建节点及修改节点样式
                // 创建节点
                var odiv =$('<div class="item2"></div>');
                // 操作创建节点的样式.使用 变量名.css()是因为避免新添加的元素颜色，会覆盖上次元素本身的颜色，导致所有插入节点的元素颜色全部一致。而不是使用 $(#类名).css()方法
                odiv.css('background','rgb('+rand(0,255)+','+rand(0,255)+','+rand(0,255)+')');
                */
                // 方法二、调用封装成 创建节点的方法 函数
                creatJd();
                // 1、插入创建的节点 ，使用.append()方法函数，来在元素内部的尾部位置开始插入元素。
                $('.wrap').append(odiv);
                // 2、插入创建的节点 ，使用.appendTo()方法函数，来在元素内部的尾部位置开始插入元素。
                // odiv.appendTo($('.wrap'));
            });

        // 二、在元素内部的前面插入元素 .prepend() 与 .prenendTo() 方法
            // 绑定单击事件
            $('button').eq(1).click(function () {
                // 方法二、调用封装成 创建节点的方法 函数
                creatJd();
                // 1、插入创建的节点 ，使用.append()方法函数，来在元素内部的前面位置开始插入元素。
                $('.wrap').prepend(odiv);
                // 2、插入创建的节点 ，使用.appendTo()方法函数，来在元素内部的前面位置开始插入元素。
                //odiv.prependTo($('.wrap'));
            });

        // 三、在元素外部的前面插入元素 .after() 与 .insertAfter() 方法
            // 绑定单击事件
            $('button').eq(2).click(function () {
                console.log('222')
                // 方法二、调用封装成 创建节点的方法 函数
                creatJd();
                // 1、插入创建的节点 ，使用.after()方法函数，来在元素外部的后面位置开始插入元素。
                $('.wrap').after(odiv);
                // 2、插入创建的节点 ，使用.insertAfter()方法函数，来在元素外部的后面位置开始插入元素。
                //odiv.insertAfter($('.wrap'));
            });

        // 四、在元素外部的前面插入元素 .before() 与 .insertBefore() 方法
            // 绑定单击事件
            $('button').eq(3).click(function () {
                console.log('333')
                // 方法二、调用封装成 创建节点的方法 函数
                creatJd();
                // 1、插入创建的节点 ，使用.after()方法函数，来在元素外部的前面位置开始插入元素。
                $('.wrap').before(odiv);
                // 2、插入创建的节点 ，使用.insertAfter()方法函数，来在元素外部的前面位置开始插入元素。
                //odiv.insertBefore($('.wrap'));
            });

        // 五、删除节点（能删除自身）.remove() 方法
            $('button').eq(4).click(function () {
                $('.wrap').remove();
            })

        // 六、清空元素 只清空指定元素内部的元素节点，不删除自身 .empty() 方法
            $('button').eq(5).click(function () {
                $('.wrap').empty();
            })

        // 七、克隆元素 .clone() 方法
            $('button').eq(6).click(function (){
                var newBtn = $('button').eq(6).clone();
                $('.wrap').before(newBtn);
                /* 注意事项
                1、如果只为了单纯克隆元素，则不需要传递参数
                2、在克隆元素的同时需要克隆绑定的事件，则需要在方法 .clone(true) 里，传递值：true
                */
            });

        // 八、节点操作注意事项---插入的是元素自身同类型元素时，原同类型元素会被拿掉
            $('button').eq(7).click(function () {
                // 将第一个按钮添加到.wrap 元素内部，从尾部插入
                // $('.wrap').append($('button').eq(0));
                // 所以需要先克隆再插入
                $('.wrap').append($('button').eq(0).clone());
            })





    </script>
</body>
</html>